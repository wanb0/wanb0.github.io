<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Nginx快速入门</title>
      <link href="/2022/10/25/nginx%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/"/>
      <url>/2022/10/25/nginx%20%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="一-初识nginx"><a href="#一-初识nginx" class="headerlink" title="一 .初识nginx"></a>一 .初识nginx</h2><h3 id="1-1-nginx特性及其优点"><a href="#1-1-nginx特性及其优点" class="headerlink" title="1.1 nginx特性及其优点"></a>1.1 nginx特性及其优点</h3><ul><li><p>Nginx (engine x) 是一个高性能的HTTP和反向代理web服务器，同时也提供了IMAP&#x2F;POP3&#x2F;SMTP服务。Nginx是由伊戈尔·赛索耶夫为俄罗斯访问量第二的Rambler.ru站点（俄文：Рамблер）开发的，第一个公开版本0.1.0发布于2004年10月4日。2011年6月1日，nginx 1.0.4发布。</p></li><li><p>其特点是<strong>占有内存少，并发能力强</strong>，事实上nginx的<a href="https://so.csdn.net/so/search?q=%E5%B9%B6%E5%8F%91&spm=1001.2101.3001.7020">并发</a>能力在同类型的网页服务器中表现较好，中国大陆使用nginx网站用户有：百度、京东、新浪、网易、腾讯、淘宝等。在全球活跃的网站中有12.18%的使用比率，大约为2220万个网站。</p></li><li><p>Nginx 是一个安装非常的简单、配置文件非常简洁（还能够支持perl语法）、Bug非常少的服务。<strong>Nginx 启动特别容易，并且几乎可以做到7*24不间断运行，即使运行数个月也不需要重新启动</strong>。你还能够不间断服务的情况下进行软件版本的升级。</p></li><li><p>Nginx代码完全用C语言从头写成。官方数据测试表明能够支持高达 50,000 个并发连接数的响应。</p></li></ul><h3 id="1-2-nginx产生的原因"><a href="#1-2-nginx产生的原因" class="headerlink" title="1.2 nginx产生的原因"></a>1.2 nginx产生的原因</h3><ul><li><p>一个项目在初步开发的时候，并发量比较少，所以在低并发的情况下，一个jar包启动应用就够了，然后内部tomcat返回内容给用户。</p><p><img src="/../image/ecs/nginx1.png"></p></li></ul><ul><li><p>随着项目的使用和开展，使用平台的用户越来越多了，并发量慢慢增大了，这时候一台服务器满足不了我们的需求了</p><p><img src="/../image/ecs/nginx2.png"></p></li><li><p>于是我们横向扩展，又增加了服务器。这个时候几个项目启动在不同的服务器上，用户要访问，就需要增加一个代理服务器了，通过代理服务器来帮我们转发和处理请求。</p><p><img src="/../image/ecs/nginx3.png"></p></li></ul><pre><code>我们希望这个代理服务器可以帮助我们接收用户的请求，然后将用户的请求按照规则帮我们转发到不同的服务器节点之上。这个过程用户是无感知的，用户并不知道是哪个服务器返回的结果，我们还希望他可以按照服务器的性能提供不同的权重选择。保证最佳体验！所以我们使用了Nginx。</code></pre><h2 id="二-nginx的代理"><a href="#二-nginx的代理" class="headerlink" title="二.nginx的代理"></a>二.nginx的代理</h2><h3 id="2-1-nginx-的正向代理"><a href="#2-1-nginx-的正向代理" class="headerlink" title="2.1 nginx 的正向代理"></a>2.1 nginx 的正向代理</h3><ul><li><p>正向代理：代理是代理客户端的<br><img src="/../image/ecs/zhengxiangdaili.png"></p></li><li><p>反向代理 ：代理是代理服务器的，所以用户是无感知的，比如，百度的服务器是在不同的服务器上，比如北京上海深圳都有百度的服务器，但是我们只需要搜索baidu.com就可以。</p><p><img src="/../image/ecs/fanxiangdaili.png"></p></li></ul><h3 id="2-2-nginx-的负载策略"><a href="#2-2-nginx-的负载策略" class="headerlink" title="2.2 nginx 的负载策略"></a>2.2 nginx 的负载策略</h3><p><strong>Nginx提供的负载均衡策略有2种：内置策略和扩展策略。内置策略为轮询，加权轮询，Ip hash。扩展策略，就天马行空，只有你想不到的没有他做不到的。</strong></p><ul><li><p>轮询</p><p><img src="/../image/ecs/lunxun.png"></p></li><li><p>加权轮询，因为可能不同服务器性能不一样，能接收的请求数量不同</p><p><img src="/../image/ecs/jiaquanlunxun.png"></p></li><li><p>iphash对客户端请求的ip进行hash操作，然后根据hash结果将同一个客户端ip的请求分发给同一台服务器进行处理，可以解决session不共享的问题。</p><p><img src="/../image/ecs/iph.png"></p></li><li><p>动静分离，在我们的软件开发中，有些请求是需要后台处理的，有些请求是不需要经过后台处理的（如：css、html、jpg、js等等文件），这些不需要经过后台处理的文件称为静态文件。让动态网站里的动态网页根据一定规则把不变的资源和经常变的资源区分开来，动静资源做好了拆分以后，我们就可以根据静态资源的特点将其做缓存操作。提高资源响应的速度。</p></li></ul><p>​       <img src="/../image/ecs/dongjingfenli.png"></p><h2 id="三-nginx的安装和使用"><a href="#三-nginx的安装和使用" class="headerlink" title="三 . nginx的安装和使用"></a>三 . nginx的安装和使用</h2><ul><li><p>去官网进行下载</p><pre><code>http://nginx.org/en/download.html</code></pre><p>选择正确的版本，我这里下载的是linux版本</p><p><img src="/../image/ecs/nginxweb.png"></p></li><li><p>把下载好的压缩包通过命令或者SFTP传到服务器上，cd到传输的目录下，进行解压安装</p></li></ul><pre><code class="bash">tar -zxvf nginx-1.22.1.tar.gz # 解压安装包</code></pre><ul><li>执行.&#x2F;configure自动配置</li></ul><pre><code class="bash">./configure #自动配置</code></pre><ul><li>执行安装命令</li></ul><pre><code class="bash">make install #安装</code></pre><p><img src="/../image/ecs/nginxinstall.png"></p><ul><li><p>到安装目录下的objs进行启动nginx</p><p><img src="/../image/ecs/nginxmulu.png"></p></li><li><p>输入启动命令，没有报错就是启动成功</p><p><img src="/../image/ecs/nginxstart.png"></p><p>去浏览器检查默认的80端口，出现下面这个就是启动成功啦！云安全组也要放行80端口</p><p><img src="/../image/ecs/welcomenginx.png"></p><p>如何连接不上，检查阿里云安全组是否开放端口，或者服务器防火墙是否开放80端口:</p><p><img src="/../image/ecs/duankou80.png"></p></li></ul><ul><li><p><strong>配置监听</strong></p><pre><code>nginx的配置文件是conf目录下的nginx.conf，默认配置的nginx监听的端口为80，如果80端口被占用可以修改为未被占用的端口即可。</code></pre><p><img src="/../image/ecs/peizhi.png"></p><pre><code>当我们修改了nginx的配置文件nginx.conf 时，不需要关闭nginx后重新启动nginx，只需要执行命令 nginx -s reload 即可让改动生效</code></pre></li><li><p><strong>关闭Nginx</strong></p><p>如果使用cmd命令窗口启动nginx， 关闭cmd窗口是不能结束nginx进程的，可使用两种方法关闭nginx</p><p>(1)输入nginx命令 nginx -s stop(快速停止nginx) 或 nginx -s quit(完整有序的停止nginx)</p><p>(2)使用taskkill taskkill &#x2F;f &#x2F;t &#x2F;im nginx.exe</p><pre><code class="bash">taskkill是用来终止进程的，/f是强制终止 ./t终止指定的进程和任何由此启动的子进程。/im示指定的进程名称 .</code></pre></li></ul><h2 id="四-nginx命令"><a href="#四-nginx命令" class="headerlink" title="四. nginx命令"></a>四. nginx命令</h2><pre><code class="bash">cd /usr/local/nginx/sbin/./nginx  启动./nginx -s stop  停止./nginx -s quit  安全退出./nginx -s reload  重新加载配置文件ps aux|grep nginx  查看nginx进程</code></pre><p>防火墙的相关命令:</p><pre><code class="bash"># 开启service firewalld start# 重启service firewalld restart# 关闭service firewalld stop# 查看防火墙规则firewall-cmd --list-all# 查询端口是否开放firewall-cmd --query-port=8080/tcp# 开放80端口firewall-cmd --permanent --add-port=80/tcp# 移除端口firewall-cmd --permanent --remove-port=8080/tcp#重启防火墙(修改配置后要重启防火墙)firewall-cmd --reload# 参数解释1、firwall-cmd：是Linux提供的操作firewall的一个工具；2、--permanent：表示设置为持久；3、--add-port：标识添加的端口；</code></pre><h2 id="五-尝试使用nginx"><a href="#五-尝试使用nginx" class="headerlink" title="五. 尝试使用nginx"></a>五. 尝试使用nginx</h2><ul><li>先进行配置文件的修改</li></ul><pre><code class="bash">http &#123;    ...    upstream cvzhanshi&#123;        server 127.0.0.1:8082/ weight=1;        server 127.0.0.1:8081/ weight=1;    &#125;    server &#123;        listen       80;        server_name  localhost;        location / &#123;            root   html;            index  index.html index.htm;            proxy_pass http://cvzhanshi;        &#125;        ...&#125;</code></pre><ul><li><p>启动两个端口的项目</p><p><img src="/../image/ecs/qiyongshuangduankou.png"></p></li><li><p>启动nginx</p></li><li><p>进行测试</p><p><img src="/../image/ecs/testnginx.png"></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
          <category> 服务器代理 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 服务器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阿里云之初体验</title>
      <link href="/2022/10/23/%E9%98%BF%E9%87%8C%E4%BA%91%E4%B9%8B%E5%88%9D%E4%BD%93%E9%AA%8C/"/>
      <url>/2022/10/23/%E9%98%BF%E9%87%8C%E4%BA%91%E4%B9%8B%E5%88%9D%E4%BD%93%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<h3 id="1-首次接触服务器"><a href="#1-首次接触服务器" class="headerlink" title="1.首次接触服务器"></a>1.首次接触服务器</h3><p>​本人是一名有幸刚考到电子信息专业的一名研一的学生。由于自己导师的需求，自己最近须要了解并学习web开发相关的知识，当然把web部署到服务器也是很重要的技能。于是通过了解和同学的推荐，他们告诉我阿里云的ECS服务器是最好用的，对小白也都非常友好，于是我抱着试试看的心态就去阿里云官网看了一下，于是就发现了，“飞天加速计划·高校学生在家实践”活动，这个活动对高校的学生非常优惠，于是我通过第一阶段的学习成功拿到了14天ECS的免费试用！</p><h3 id="2-我的阿里云使用体验"><a href="#2-我的阿里云使用体验" class="headerlink" title="2.我的阿里云使用体验"></a>2.我的阿里云使用体验</h3><p>​  通过在阿里云的第一阶段的训练，我已经可以去创建并操作一个我的实例了。<img src="/../image/ecs/p1.png"></p><p>​  创建好了第一个实例以后，我使用Terimius1工具连接到了ECS，连接过程也是非常快:</p><p><img src="/../image/ecs/p2.png"></p><p>​之前说过我组租服务器，是为了web开发的学习，所以我在我的服务器通过yum安装了jdk1.8的和mysql8的开发环境，通过yum安装jdk1.8的过程还是十分的顺利，只需要一行命令即可，可以说比windows安装还要方便。</p><p>​在centos7.9上安装jdk1.8只用了以下两个命令：</p><pre><code class="shell">yum list java-1.8*                   //在yum中查找可以安装的jdk版本 yum install java-1.8.0-openjdk* -y   //开始安装</code></pre><p>​紧接着，我写了一个java文件来测试我的java环境是否配置好了。一次测试成功！</p><p><img src="/../image/ecs/p3.png"></p><p>然后我就在服务器开始安装我的mysql8。</p><p>因为之前安装jdk1.8的时候已经启用了yum的存储库，所以在这直接用yum进行安装。</p><pre><code class="shell">yum --enablerepo=mysql80-community install mysql-community-server   //执行这个命令进行安装</code></pre><p>​</p><aside>💡 如果安装提示 **The GPG keys listed for the “MySQL 8.0 Community Server“ repository are already installed but……**</aside><p>请执行以下命令后，重新进行安装：</p><pre><code class="shell">rpm --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</code></pre><p>安装好之后就可以启动我的mysql8的数据库，再通过阿里云服务器开发3306端口，在通过Navicat15的连接，很快就连接到了我的ECS上的mysql8。</p><p><img src="/../image/ecs/p5.png"></p><p><img src="/../image/ecs/p4.png"></p><p>现在环境就基本配置好了，下一步准备学习把网站部署到服务器上。</p><h3 id="3-总结展望"><a href="#3-总结展望" class="headerlink" title="3.总结展望"></a>3.总结展望</h3><p>​总的来说，阿里云的ECS给我的印象还是十分好的，操作简单，自由度很高非常容易上手，也感谢阿里云给我的这次体验机会，我也希望能继续续领阿里的ECS服务器进行更多的操作和学习。感谢阿里云给我们这么好的平台！</p>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
          <category> aliyun </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 服务器 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Web开发的环境部署</title>
      <link href="/2022/10/23/Web%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
      <url>/2022/10/23/Web%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<h2 id="一-开发环境搭建"><a href="#一-开发环境搭建" class="headerlink" title="一.开发环境搭建"></a>一.开发环境搭建</h2><h3 id="1-1JDK安装"><a href="#1-1JDK安装" class="headerlink" title="1.1JDK安装"></a>1.1JDK安装</h3><ul><li>去Oracle的官网，找到JDK8的Windows安装包，并下载</li></ul><p><img src="/../image/web1/Oracle.png"></p><ul><li>双击exe文件进行安装</li></ul><p>选择好安装的目录，一直点击下一步就可以安装成功</p><p><img src="/../image/web1/jdkinstall.webp"></p><ul><li>配置计算机的环境变量</li></ul><p>在Windows搜索框搜索高级系统设置，点击查看高级系统设置</p><p><img src="/../image/web1/xitongshezhi.png"></p><p>点击高级选项卡中的系统变量</p><p><img src="/../image/web1/xuanxiangka.png"></p><p>在下方的系统变量中，新建一个JAVA_HOME的系统变量,路径写刚才JDK安装的路径</p><p><img src="/../image/web1/JAVA_HOME.png"></p><p>在path中添加JAVA_HOME</p><p><img src="/../image/web1/path1.png"></p><p><img src="/../image/web1/path2.png"></p><ul><li>JDk安装完成</li></ul><h3 id="1-2-IDEA安装"><a href="#1-2-IDEA安装" class="headerlink" title="1.2 IDEA安装"></a>1.2 IDEA安装</h3><ul><li>去<strong>JetBrains</strong>的官网下载idea的安装包</li></ul><pre><code>IDEA下载地址：https://www.jetbrains.com/idea/download/#section=windows  </code></pre><p><img src="/../image/web1/ideadownload.png"></p><ul><li>双击exe打开安装程序，点击下一步</li></ul><p><img src="/../image/web1/jb.png"></p><ul><li>选择好自己的文件目录，不建议放在C盘，会消耗较多的硬盘空间。</li></ul><p><img src="/../image/web1/idea1.png"></p><ul><li>红色箭头这里是电脑的位数</li><li>绿色箭头这里是关联相对应的文件，当双击该格式文件的时候，会自动的使用idea打开，不推荐勾选</li><li>蓝色箭头是建议在安装JetBrain时选择自动安装一个jre，这里不会与原来jre冲突推荐安装</li></ul><p><img src="/../image/web1/idea2.png"></p><ul><li>点击install，即可安装成功</li></ul><p><img src="/../image/web1/idea3.png"></p><h3 id="1-3-MySQL-amp-Navicat"><a href="#1-3-MySQL-amp-Navicat" class="headerlink" title="1.3 MySQL&amp;Navicat"></a>1.3 MySQL&amp;Navicat</h3><ul><li>去MySQL下载安装包,下载下面这个431M的</li></ul><pre><code class="http">https://dev.mysql.com/downloads/installer/</code></pre><p><img src="/../image/web1/mysqld.png"></p><ul><li><p>下载完成后双击打开开始安装,选择最后一个自定义安装，点击back，在选择第一个，点击back，在点击自定义安装</p><p><img src="/../image/web1/bug.png"></p></li><li><p>可以自定义一下每个套件的安装路径，自定义完之后，点击next</p><p><img src="/../image/web1/lujing.png"></p></li><li><p>点击Excute,检查没有错误在点击next</p><p><img src="/../image/web1/excuat1.png"></p></li><li><p>在此点击Excute</p><p><img src="/../image/web1/excute2.png"></p></li><li><p>检查须要一点时间，完毕之后点击next</p><p><img src="/../image/web1/next.png"></p></li><li><p>因为我们要连接Navicat所以选择旧式密码</p></li></ul><p><img src="/../image/web1/oldpass.png"></p><ul><li><p>输入两次你的数据库root密码，点击next</p><p><img src="/../image/web1/doupass.png"></p></li><li><p>点击Next</p><p><img src="/../image/web1/next2.png"></p></li><li><p>点击Excute</p><p><img src="/../image/web1/excute3.png"></p></li><li><p>配置MySQL的环境变量，在path中加入刚才安装mysql的server的bin目录下的路径</p><p><img src="/../image/web1/xauat.png"></p><p><img src="/../image/web1/path4.png"></p></li><li><p>测试MySQL是否安装成功，输入mysql -u root -p登录</p><p><img src="/../image/web1/loginmysql.png"></p><ul><li>登录测试成功</li></ul></li><li><p>下面进行Navicat的安装，自己找一下破解版的安装包，解压后，在目录下找打navicat.exe双击运行即可</p><p><img src="/../image/web1/navicatexe.png"></p></li><li><p>进入软件点击连接，点击MySQL</p><p><img src="/../image/web1/mysql1.png"></p></li><li><p>主机名可以自定义填写，密码填写当时创建MySQL的密码</p></li></ul><p><img src="/../image/web1/mysql5.png"></p><ul><li><p>点击确定或者测试连接，就可以看到连接成功了！</p><p><img src="/../image/web1/mysql6.png"></p></li></ul><h3 id="1-4-Tomcat安装"><a href="#1-4-Tomcat安装" class="headerlink" title="1.4 Tomcat安装"></a>1.4 Tomcat安装</h3><ul><li>进如Tomcat的官网，选择要下载的版本</li></ul><p><img src="/../image/web1/tomcatweb.png"></p><ul><li><p>建议下载Tomcat8的压缩包，Tomcat8和jdk8是对应兼容的</p><p><img src="/../image/web1/tomcat1.png"></p></li><li><p>下载完解压到自己想安装的目录即可，打开解压后的目录文件，找到bin目录下</p><p><img src="/../image/web1/tomcat2.png"></p></li><li><p>双击bin目录下的startup.bat启动Tomcat服务</p><p><img src="/../image/web1/tomcat3.png"></p></li><li><p>启动后，在浏览器的地址栏输入localhost:8080 ,如果跳出以下界面就表示安装成功<br> <img src="/../image/web1/tomcat4.png"></p></li><li><p>Tomcat的环境变量配置，和之前JDk，MySQL配置环境变量类似,先新建系统变量，在配置path<br> <img src="/../image/web1/tomcat5.png"></p></li></ul><p><img src="/../image/web1/tomcat6.png"></p><pre><code class="bash">%CATALINA_HOME%\lib;%CATALINA_HOME%\lib\servlet-api.jar;%CATALINA_HOME%\lib\jsp-api.jar;</code></pre><h3 id="1-5-redis安装"><a href="#1-5-redis安装" class="headerlink" title="1.5 redis安装"></a>1.5 redis安装</h3><p>项目用到了redis，不安装的话后端会启动失败</p><p>首先打开redis 的官网</p><pre><code class="http">https://redis.io/download/#redis-downloads</code></pre><p><img src="/../image/web1/redis.png"></p><p>下载，解压到想安装的目录，先点击redis-server.exe，启动redis服务</p><p><img src="/../image/web1/redis2.png"></p><p>然后双击redis-cli.exe，输入ping，如果显示PONG就是启动成功</p><p><img src="/../image/web1/redis3.png"></p><h3 id="1-6-VsCode"><a href="#1-6-VsCode" class="headerlink" title="1.6 VsCode"></a>1.6 VsCode</h3><p>VsCode一款非常好用的免费编码工具，去官网就可以下载安装，非常简单，不过多赘述</p><pre><code class="http">https://code.visualstudio.com/download</code></pre><p>  <img src="/../image/web1/vs1.png"></p><h3 id="1-7-nodejs安装"><a href="#1-7-nodejs安装" class="headerlink" title="1.7 nodejs安装"></a>1.7 nodejs安装</h3><p>想启动Vue项目须要下载安装nodejs，在官网下载，解压到想安装的目录就可以</p><pre><code class="http">https://nodejs.org/zh-cn/download/</code></pre><p><img src="/../image/web1/nodejs1.png"></p><p>​npm会和nodejs一起安装好，可以在命令行检查是否安装好了npm和nodejs,查看安装的版本</p><p><img src="/../image/web1/npm1.png"></p><h3 id="1-6-Termius安装（可以不装）"><a href="#1-6-Termius安装（可以不装）" class="headerlink" title="1.6 Termius安装（可以不装）"></a>1.6 Termius安装（可以不装）</h3><ul><li><p>可以下载一个远程连接服务器工具，我觉得比较好用Termius，也可以用宝塔的终端</p><p>下载地址</p><pre><code class="http">https://termius.com/windows</code></pre><p><img src="/../image/web1/termius.png"></p><p>添加host</p><p><img src="/../image/web1/termius2.png"></p></li></ul><h2 id="二-服务器环境搭建"><a href="#二-服务器环境搭建" class="headerlink" title="二. 服务器环境搭建"></a>二. 服务器环境搭建</h2><h3 id="1-先到阿里云学生的活动页面登录领取14天"><a href="#1-先到阿里云学生的活动页面登录领取14天" class="headerlink" title="1. 先到阿里云学生的活动页面登录领取14天"></a>1. 先到阿里云学生的活动页面登录领取14天</h3><pre><code class="http">https://developer.aliyun.com/plan/student#J_5144437010</code></pre><p><img src="/../image/ecs/p6.png"></p><ul><li>点击这里进行领取，如果没有进行学生认证的话，先在支付宝进行学生的认证。认证之后，跳转到到完成新手营界面，进行服务器的新手训练，按照提示操作即可，还有一个十道题的小测验，答案我放在下方的链接,如果没有可以自行百度：</li></ul><pre><code class="http">https://blog.csdn.net/qq_35834501/article/details/106539233</code></pre><pre><code class="http">https://blog.csdn.net/qq_45037404/article/details/104552886</code></pre><pre><code class="http">https://blog.csdn.net/Miracle_ps/article/details/104555821</code></pre><ul><li>完成上述的任务就可以领取14天的ECS服务器啦！</li></ul><p>领取服务器的时候选择<strong>Centos系统</strong>就可以，如果选错了不要紧，后面更换很简单。</p><h3 id="2-投稿并续领两个月的ECS"><a href="#2-投稿并续领两个月的ECS" class="headerlink" title="2. 投稿并续领两个月的ECS"></a>2. 投稿并续领两个月的ECS</h3><ul><li>点击免费续领：</li></ul><p><img src="/../image/ecs/p7.png"></p><ul><li>跳转到以下页面：</li></ul><p><img src="/../image/ecs/p8.png"></p><ul><li>按照要求水一篇赞美阿里云的小文章，<strong>markdown</strong>格式，在社区发布，发布后把链接给管理员审核通过即可续费两个月！</li></ul><p>如果不知道写的格式，可以参考我的上一篇文章，<strong>阿里云之初体验</strong>。审核须要一定时间不要着急。</p><h3 id="3-通过命令安装宝塔面板"><a href="#3-通过命令安装宝塔面板" class="headerlink" title="3. 通过命令安装宝塔面板"></a>3. 通过命令安装宝塔面板</h3><ul><li>首先获取该实例的密码，如果不记得可以去下面网页一键重置</li></ul><p><img src="/../image/ecs/repass.png"></p><ul><li>通过<strong>SSH</strong>进行远程登录ECS，可以用阿里云控制台远程登录</li></ul><p><img src="/../image/ecs/workbench.png"></p><p><img src="/../image/ecs/loginssh.png"></p><ul><li><p>访问失败的去安全组看下22端口是否开放。</p></li><li><p>也可以安装远程连接软件，软件用起来会比阿里网页这个流畅一些，在这里我用的是Terimius工具，须要输入服务器ip地址，ssh的连接的用户名和密码，就是重置实例的用户名和密码。</p></li></ul><p><img src="/../image/ecs/termiuslogin.png"></p><ul><li>接下来我们去官网找到宝塔面板相应系统的下载命令复制后直接在命令行输入</li></ul><p><img src="/../image/ecs/baotaweb.png"></p><ul><li>输入该命令行后，服务器开始安装宝塔面板，耐心等待一会这里会有两次询问，输入y和yes就可以完成下载，出现以下的图片就说明宝塔面板安装成功！记得把红框内的内外网地址和用户名密码保存起来，可以放在记事本中，用到了就去看一下。</li></ul><p><img src="/../image/ecs/installbaota.png"></p><p><img src="/../image/ecs/baotainstall.png"></p><ul><li>接下来我们把上图出现的外网地址复制到浏览器，并输入上面写的用户名和密码</li></ul><p><img src="/../image/ecs/baotalogin.png"></p><ul><li>如果登录不上，去检查一下控制台安全组有没有<strong>放行宝塔的端口号</strong>。</li></ul><p>登录进去以后，要绑定你的宝塔账号，如果没有先注册一个</p><p><img src="/../image/ecs/baotauser.png"></p><h3 id="4-通过宝塔面板和命令安装应用"><a href="#4-通过宝塔面板和命令安装应用" class="headerlink" title="4.通过宝塔面板和命令安装应用"></a>4.通过宝塔面板和命令安装应用</h3><ul><li>注册完毕后，会弹出弹窗，在这里你可以勾选自己须要的应用以及版本进行快速安装,也可以一会去左侧导航栏里面的软件商店搜索安装，点击极速安装就可以。</li></ul><p><img src="/../image/ecs/baotainstallapp.png"></p><ul><li>下面是本次web开发所可能需要的端口，请在阿里云的安全组进行开发下列端口</li></ul><p><img src="/../image/ecs/duankouhao.png"></p><ul><li>本次还用到了Tomcat,Redis,Nginx,均可以在宝塔面板的软件商店进行一键安装。</li></ul><p><img src="/../image/ecs/anzhuang.png"></p><ul><li><p>其中Nginx需要在宝塔改一下配置文件，如果不了解Nginx可以看下本站的上上篇文章<strong>Nginx快速入门</strong></p><p><img src="/../image/ecs/nginxconfig.png"></p></li><li><p>通过yum安装JDK   [在远程连接的命令行输入]</p><pre><code class="bash">yum list java-1.8*                   //在yum中查找可以安装的jdk版本 yum install java-1.8.0-openjdk* -y   //开始安装</code></pre><p>紧接着，我写了一个java文件来测试我的java环境是否配置好了。一次测试成功！</p><p><img src="/../image/ecs/p3.png"></p></li></ul><h3 id="3-配置并用Navicat连接ECS的mysql"><a href="#3-配置并用Navicat连接ECS的mysql" class="headerlink" title="3.配置并用Navicat连接ECS的mysql"></a>3.配置并用Navicat连接ECS的mysql</h3><ul><li>在宝塔面板下载好mysql之后，点击左侧导航栏数据库，获取到root密码后，在命令行输入mysql -u root -p和密码登录到mysql中</li></ul><p><img src="/../image/ecs/getpassword.png"></p><p><img src="/../image/ecs/mysqllogin.png"></p><ul><li>因为mysql现有的用户都是localhost的，所以须要创建一个可以远程访问的mysql用户，或者给root用户增加权限。</li></ul><pre><code class="shell">create user &#39;用户名&#39;@&#39;允许那个主机链接&#39; identified by &#39;密码&#39;;           // 创建新用户 %  主机名为所有主机可以连接grant all privileges on *.* to &#39;用户名&#39;@&#39;主机名&#39; with grant option;   //授予该用户若有权限flush privileges;                                                   //刷新权限quit                   //退出mysqlservice mysqld restart //重启mysql</code></pre><p><img src="/../image/ecs/mysqlcreatuser.png"></p><ul><li>因为centos自带防火墙，所以还要在centos中放行tcp3306端口</li></ul><pre><code class="shell">firewall-cmd --list-all   // 查看开放的端口号firewall-cmd --zone=public --add-port=3306/tcp --permanent   // 开放3306端口firewall-cmd --reload// 重启防火墙firewall-cmd --list-all     //查看是否生效</code></pre><p><img src="/../image/ecs/centosfrrewall.png"></p><ul><li>接下来就用创建好的用户名和密码通过Navicat进行连接mysql,连接名可以任意</li></ul><p><img src="/../image/ecs/navicat15connect.png"></p><ul><li>连接成功！</li></ul><p><img src="/../image/ecs/navicatconnectend.png"></p><h3 id="4-通过Navicat-导入数据库文件"><a href="#4-通过Navicat-导入数据库文件" class="headerlink" title="4. 通过Navicat 导入数据库文件"></a>4. 通过Navicat 导入数据库文件</h3><ul><li>先创建好对应的数据库，字符集是utf8mb64,排序规则可以不用写</li></ul><p><img src="/../image/ecs/createdatabase.png"></p><ul><li>点击数据库进行右键，点击执行sql文件，把须要导入的sql文件导入</li></ul><p><img src="/../image/ecs/zhixingsql.png"></p><p><img src="/../image/ecs/yunxingsql.png"></p><ul><li>完事点击关闭就可以了，点击数据库右键刷新，就可以看到表格和数据都已经导入进去了。</li></ul><p><img src="/../image/ecs/daoruchenggong.png"></p><ul><li>至此，web在ECS须要的软件环境准备好了。</li></ul><h2 id="三-部署系统"><a href="#三-部署系统" class="headerlink" title="三.部署系统"></a>三.部署系统</h2><h3 id="1-Web项目在本地运行"><a href="#1-Web项目在本地运行" class="headerlink" title="1. Web项目在本地运行"></a>1. Web项目在本地运行</h3><h4 id="1-1-本地后端运行"><a href="#1-1-本地后端运行" class="headerlink" title="1.1 本地后端运行"></a>1.1 本地后端运行</h4><ul><li>以<strong>管理员</strong>身份打开idea，打开项目的源码，点击上方工具栏的<strong>Build→Rebuild</strong>重新构建一下项目。</li></ul><p>​   <img src="/../image/web1/we1.png"></p><ul><li><p>点击上方的绿色箭头就可以启动项目</p><p><img src="/../image/web1/web2.png"></p></li><li><p>若启动成功，则会有以下显示</p><p><img src="/"></p></li><li><p>如果启动不成功，在RuoYi-Vue-master\ruoyi-admin\src\main\resources\application-druid.yml里查看mysql用户名密码是否正确</p><p>检查redis是否成功启动，根据报错日志来调试</p><p><img src="/../image/web1/web3.png"></p></li></ul><h4 id="1-2-本地前端运行"><a href="#1-2-本地前端运行" class="headerlink" title="1.2 本地前端运行"></a>1.2 本地前端运行</h4><ul><li><p>先用VsCode打开项目源码ruoyi-ui，打开Vscode的新建终端</p></li><li><p>npm install</p><p>1、进入项目路径(磁盘: cd文件夹目录）</p><p>2、执行命令：npm install</p><p><img src="/../image/web1/npm2.png"></p></li><li><p>本地启动项目 npm run dev</p><p><img src="/../image/web1/npm3.png"></p></li><li><p>去localhost查看启动效果</p><p><img src="/../image/web1/npm4.png"></p></li></ul><h3 id="2-Web项目在ECS的部署"><a href="#2-Web项目在ECS的部署" class="headerlink" title="2. Web项目在ECS的部署"></a>2. Web项目在ECS的部署</h3><h4 id="2-1后端部署"><a href="#2-1后端部署" class="headerlink" title="2.1后端部署"></a>2.1后端部署</h4><ul><li>通过idea的Maven工具给源码打jar包</li></ul><p>首先要以<strong>管理员</strong>身份打开idea，打开项目的源码，点击上方工具栏的<strong>Build→Rebuild</strong>重新构建一下项目。然后按照下面图片的方法进行打包</p><p><img src="/../image/web1/maven.png"></p><ul><li>打完的包在这个目录下就可以看到</li></ul><p><img src="/../image/web1/jar.png"></p><ul><li>把打好的jar包上传到服务器</li></ul><p>可以用宝塔的文件传输或者是Termius的SFTP功能来把jar包传出到服务器</p><p><img src="/../image/web1/termiuspush.png"></p><ul><li>宝塔面板的文件传输功能也可把文件上传</li></ul><p><img src="/../image/web1/btpush.png"></p><ul><li><p>接下来在传输文件的目录下使用命令行把后端运行起来</p><pre><code class="bash">nohup java -jar 你的jar包名称.jar&gt; springboot.log 2&gt;&amp;1 &amp; #后台运行jar包的命令</code></pre><p><img src="/../image/web1/qidong.png"></p></li><li><p>启动后去看一下刚才文件夹生成的log日志，稍等一会（大约20秒），会把日志生成好，看到红框的内容就是启动成功了，如果没有启动成功的话，大概率是数据库和端口的问题。</p><p><img src="/../image/web1/log.png"></p></li></ul><h4 id="2-2前端部署"><a href="#2-2前端部署" class="headerlink" title="2.2前端部署"></a>2.2前端部署</h4><ul><li><p>和上面后端传输jar包的方式相同，通过Termius的SFTP或者是宝塔的文件传输，把前端的压缩包传输到服务器</p><p><img src="/../image/web1/pushzip.png"></p></li><li><p>把压缩包进行解压</p></li></ul><pre><code class="bash">unzip zipped_file.zip  #解压命令</code></pre><p>解压完毕后，该文件夹下面会出现一个解压后的文件</p><p><img src="/../image/web1/jieyawancheng.png"></p><p>点开解压文件找到文件dist的路径，把该路径配置到Nginx的配置文件中，Nginx会自动启动前端的服务</p><p><img src="/../image/web1/dist.png"></p><p><img src="/../image/web1/nginxpeizhi.png"></p><p><img src="/../image/web1/nginxshezhi.png"></p><ul><li><p>至此，web项目在服务器前后端部署好了，在浏览器输入你的ip地址，就可以正常访问系统了！</p><p><img src="/../image/web1/end.png"></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> web </category>
          
          <category> aliyun </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 服务器 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
